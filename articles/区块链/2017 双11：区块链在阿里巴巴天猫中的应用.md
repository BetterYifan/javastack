
#### 背景

天猫国际正在全面启动全球溯源计划——将利用区块链技术、药监码技术以及大数据跟踪进口商品全链路，汇集生产、运输、通关、报检、第三方检验等信息，给每个跨境进口商品打上“身份证”。这项计划未来将覆盖全球 63 个国家和地区，3700个品类，14500个海外品牌。共同参与该计划的包括英美日韩澳新等多国政府、大使馆、行业协会以及众多海外大牌，中检集团、中国标准化研究院、跨境电子商务商品质量国家监测中心等“国家队”也已加入，通过定制天猫国际统一二维码并在码上合成全程监测手段，确保国内消费者买得放心。

2017年被称作区块链应用的元年，区块链是一种为实现机构间和防止篡改的分布式记账系统，它在分布式共识算法、智能合约、加密算法等的基础上，可解决信任缺失场景下进行交易的问题。区块链的可追溯的特点可解决金融、征信、版权、证明等行业目前所存在的诸多痛点。将区块链技术应用于商品溯源中，可以提升商品整个流转过程中的透明度，对供应链形成更加全面有效的把控。

产品形态上，我们希望通过给进口商品打上唯一的身份证码，在双十一作为天猫国际业务的一大业务亮点，将商品整个生产、检测、运输、通关等环节的信息完整地展现在用户面前，提升用户购物体验，加强平台正品心智；同时创新地使用区块链技术，联合多外部合作方共同打造更具公信力的溯源平台。

#### 项目简介

整个项目的价值主要体现在以下几个方面：

**标准建设：**

溯源项目利用平台的商家、商品及供应链管理能力，建立全球商家 & 货品标准化档案，在EWTP框架内建立起一套跨境商品质检标准及全球质检机构网络。

**货品把控：**

商品溯源可以和供应链中台进行很好地融合，从货品的生产到入仓的各个环节，都可以提供很好的底层数据支撑和货品质量把控。

**正品保障：**

在消费者层面通过终端化的溯源二维码及公开透明的区块链技术支持，培养用户的正品心智，同时提升品牌价值。

商品溯源体系可以分为：生产企业溯源、海外商品溯源、国际物流及进口申报溯源、溯源信息终端查询四个方面，目前除生产企业溯源外其余体系都已初步建设完成。

![](http://img.javastack.cn/18-2-8/36195397.jpg)

商品溯源链路涉及生产企业、海外质检机构、物流企业、消费者四部分，需要各个部分通力合作，具体链路如下所示：

![](http://img.javastack.cn/18-2-8/51394982.jpg)

从上图可以看出，商品溯源的一个特点就是链路较长，并且线上线下相结合，既注重规则的建设，也注重仓库层面的实操。

#### 技术栈

针对商品溯源的特殊性，一方面我们要确保信息的干净，数据的写入必须经过授权且各方互相信任，确保写入数据的权威性。一方面要确保信息的公开透明，任何人都可以来读取，所以我们选择接入联盟链，这样一方面可以通过合作接入外部不同的质检机构达到共赢的目的，一方面确保数据的公开透明化。

![](http://img.javastack.cn/18-2-8/13955282.jpg)

从供应链生成补货计划到货品入库到理货贴码到最后消费者扫码获取信息，各个环节都有强有力的把控。主要思想是卡住供应链的补货流程，同时发起溯源任务，等商品溯源认证通过后，再告知商家溯源完成并继续走补货流程。

**信息上链**

本次天猫国际商品溯源的亮点在于成功的将区块链技术应用到溯源实操中，整个溯源流程公开透明可信赖。

![](http://img.javastack.cn/18-2-8/52529878.jpg)

一个国际货品在整个溯源流程中主要包括以下几层信息：

**货品基础信息**，如条形码、贸易国、生产工厂图片、工厂认证证书、成分含量图片等。

**货品海关备案信息**，如原产国等。

**质检机构检测信息**，如监装、验厂、流通、成分含量检验等。

**二维码关联信息**。

这些信息足以确保货品的“正”与“好”，然而传统的存储都是中心化的存储，存储结果可能会被人为修改而失去公信力，溯源最重要的就是结果的真实与可信赖，项目组在如何给予消费者一个公开透明可信赖的溯源数据上做了大量的调研，最后决定引入区块链来提供强力的正品心智保障。

本次溯源项目利用蚂蚁金服的区块链数据存证能力，成功的将溯源信息放在链上，用区块链来“链接”我们和消费者。

区块链数据存证方案如下所示：

![](http://img.javastack.cn/18-2-8/20554890.jpg)

目前的区块链是一条联盟链，支持外部机构的接入，也支持商家和各类生产厂商节点的接入，以实现信息的互换和合作共赢！

**平台系统设计**

天猫国际建设了一整套的溯源平台系统，来联动供应链侧以共同来完成整个溯源流程。

![](http://img.javastack.cn/18-2-8/38797305.jpg)

整套系统为三层设计模型。

1. 底层为基础的数据模型设计
1. 中间层是我们的业务层
1. 最上层是我们的交互层

**扫码演示**

双十一上线后，消费者已可以收到贴有天猫国际防伪溯源码的商品，如下图所示：

![](http://img.javastack.cn/18-2-8/61109770.jpg)

打开手机扫码后页面如下图所示：

![](http://img.javastack.cn/18-2-8/41886439.jpg)

为了保证数据的安全性，二维码上有一层暗码，刮开后输入，结果如第三张图所示：

![](http://img.javastack.cn/18-2-8/72953337.jpg)

往下滑动即可看到货品的基础信息及详细的溯源信息如验厂结果、品质抽检结果等。

为了确保码不会被重复利用，当多次扫码时，会有强提示如下图所示：

![](http://img.javastack.cn/18-2-8/24581933.jpg)

#### 展望

全球溯源计划背后离不开各国政府的支持，也是国内企业全面走向全球化的体现。目前区块链技术尚处于最初的爆发期，落地案例频现，需要人们更加深入细致的探索。而在全社会分梯次分层次迈进消费升级时代的大背景下，消费者对于消费品质的要求必将更加凸显。我们相信，将区块链的不可篡改性和可追溯性应用到商品安全上，必将进一步提高平台的正品心智，提升购物者的购物体验，打破信息壁垒，将整个供应链体系变得更加透明开放。更进一步的，我们希望借助于此，协助建立消费者对跨境零售商品溯源认知体系，以服务支撑、系统共建、信息共享为合作方式，给消费者及监管部门提供更为全面更为准确的全球商家与商品溯源信息。

![](http://img.javastack.cn/18-2-9/93685202.jpg)

本文整理于阿里技术丛书——**<<九年双11，互联网技术超级工程>>**，阿里技术干货满满，欢迎大家阅读已上传至Java技术栈QQ群。
